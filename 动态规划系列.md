---


---

<h1 id="动态规划">动态规划</h1>
<ul>
<li>1.1 动态规划基本技巧</li>
</ul>
<blockquote>
<ul>
<li><a href="http://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247484731&amp;idx=1&amp;sn=f1db6dee2c8e70c42240aead9fd224e6&amp;chksm=9bd7fb33aca07225bee0b23a911c30295e0b90f393af75eca377caa4598ffb203549e1768336&amp;scene=21#wechat_redirect">动态规划解题套路框架</a></li>
<li><a href="http://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247484832&amp;idx=1&amp;sn=44ad2505ac5c276bf36eea1c503b78c3&amp;chksm=9bd7fba8aca072be32f66e6c39d76ef4e91bdbf4ef993014d4fee82896687ad61da4f4fc4eda&amp;scene=21#wechat_redirect">动态规划答疑篇</a></li>
<li><a href="http://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247485824&amp;idx=1&amp;sn=09caa56172729cf8cf1b53089e8dee55&amp;chksm=9bd7f788aca07e9e4149f384ec5e279adadec75a2828a76066c56b4789209fb1cd54f9e63f9d&amp;scene=21#wechat_redirect">状态压缩：对动态规划进行降维打击</a></li>
<li><a href="http://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247485700&amp;idx=1&amp;sn=433fc5ec5e03a86064d458320332a688&amp;chksm=9bd7f70caca07e1aad658333ac05df501796862a418d8f856b12bb6ca73a924552901ec86d9b&amp;scene=21#wechat_redirect">动态规划和回溯算法到底谁是谁爹？</a></li>
</ul>
</blockquote>
<ul>
<li>1.2 子序列类型问题</li>
</ul>
<blockquote>
<ul>
<li><a href="http://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247484731&amp;idx=3&amp;sn=aa642cbf670feee73e20428775dff0b5&amp;chksm=9bd7fb33aca0722568ab71ead8d23e3a9422515800f0587ff7c6ef93ad45b91b9e9920d8728e&amp;scene=21#wechat_redirect">经典动态规划：编辑距离</a></li>
</ul>
</blockquote>
<ul>
<li>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247484494&amp;idx=1&amp;sn=0e90d7fbf812fd1f4c408b5cc5fdf8c6&amp;chksm=9bd7fa46aca07350f626e2365d9f71545aa304725b7122b5a44bcfd90cf0506c9036201f3b38&amp;scene=21#wechat_redirect">信封嵌套问题</a></p>
</li>
<li>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247485355&amp;idx=1&amp;sn=17a59704a657b4880dffb54c40ad730e&amp;chksm=9bd7f9a3aca070b53c3f74c9d0a1074ae1e615699fd3b977b8134d486106e62fb28cdf59cb52&amp;scene=21#wechat_redirect">动态规划设计：最大子数组</a></p>
</li>
<li>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247484666&amp;idx=1&amp;sn=e3305be9513eaa16f7f1568c0892a468&amp;chksm=9bd7faf2aca073e4f08332a706b7c10af877fee3993aac4dae86d05783d3d0df31844287104e&amp;scene=21#wechat_redirect"></a><a href="http://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247487860&amp;idx=1&amp;sn=f5759ae4f22f966db8ed5a85821edd34&amp;chksm=9bd7ef7caca0666a628fe838dee6d5da44b05eadf01fd7e87fcef813430c8e6dc3eb3c23e15f&amp;scene=21#wechat_redirect">经典动态规划：最长公共子序列</a></p>
</li>
<li>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247484666&amp;idx=1&amp;sn=e3305be9513eaa16f7f1568c0892a468&amp;chksm=9bd7faf2aca073e4f08332a706b7c10af877fee3993aac4dae86d05783d3d0df31844287104e&amp;scene=21#wechat_redirect">动态规划之子序列问题解题模板</a></p>
</li>
<li>
<p>1.3 背包类型问题</p>
</li>
<li>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247485103&amp;idx=1&amp;sn=8a9752e18ed528e5c18d973dcd134260&amp;chksm=9bd7f8a7aca071b14c736a30ef7b23b80914c676414b01f8269808ef28da48eb13e90a432fff&amp;scene=21#wechat_redirect">经典动态规划：子集背包问题</a></p>
</li>
<li>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247485124&amp;idx=1&amp;sn=52068c8000b90a7a972dbd04658d79b7&amp;chksm=9bd7f8ccaca071da66d3c9e567ab49b27c711db154c2f297f55fcd7c3c1156afa37b0ad60555&amp;scene=21#wechat_redirect">经典动态规划：完全背包问题</a></p>
</li>
<li>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247485064&amp;idx=1&amp;sn=550705eb67f5e71487c8b218382919d6&amp;chksm=9bd7f880aca071962a5a17d0f85d979d6f0c5a5ce32c84b8fee88e36d451f9ccb3bb47b88f78&amp;scene=21#wechat_redirect">经典动态规划：0-1 背包问题</a></p>
</li>
<li>
<p>1.4 贪心类型问题</p>
</li>
<li>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247484493&amp;idx=1&amp;sn=1615b8a875b770f25875dab54b7f0f6f&amp;chksm=9bd7fa45aca07353a347b7267aaab78b81502cf7eb60d0510ca9109d3b9c0a1d9dda10d99f50&amp;scene=21#wechat_redirect">贪心算法之区间调度问题</a></p>
</li>
<li>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247485087&amp;idx=1&amp;sn=ddbed992e5ad8f1aa3b3d4afcb17889b&amp;chksm=9bd7f897aca071817d3ea77acf4a8bc8e277bd38a43ebe2ceba2b42c3184886e07775a628fc7&amp;scene=21#wechat_redirect">如何运用贪心思想玩跳跃游戏</a></p>
</li>
<li>
<p>1.5 其他经典问题</p>
</li>
<li>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247484513&amp;idx=1&amp;sn=e5fc3cce76c1b916195e1793122c28b8&amp;chksm=9bd7fa69aca0737fe704ea5c6da28f47b9e3f0961df2eb40ef93a7d507ace8def1a18d013515&amp;scene=21#wechat_redirect">经典动态规划：正则表达式</a></p>
</li>
<li>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247484675&amp;idx=1&amp;sn=4a4ac1c0f1279530b42fedacc6cca6e6&amp;chksm=9bd7fb0baca0721dda1eaa1d00b9a520672dc9d5c3be762eeca869be35d7ce232922ba8e928b&amp;scene=21#wechat_redirect">经典动态规划：高楼扔鸡蛋</a></p>
</li>
<li>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247484690&amp;idx=1&amp;sn=eea075701a5d96dd5c6e3dc6a993cac5&amp;chksm=9bd7fb1aaca0720c58c9d9e02a8b9211a289bcea359633a95886d7808d2846898d489ce98078&amp;scene=21#wechat_redirect">经典动态规划：高楼扔鸡蛋（进阶）</a></p>
</li>
<li>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247485172&amp;idx=1&amp;sn=b860476b205b04f960ea0de6f70d3553&amp;chksm=9bd7f8fcaca071eaeb934ae5573e550699f95e0491c89bafa1c298b852b1f6fc19796ab7ef84&amp;scene=21#wechat_redirect">经典动态规划：戳气球</a></p>
</li>
<li>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247484731&amp;idx=4&amp;sn=83fdd556c0d7c638b7a0df72129c0268&amp;chksm=9bd7fb33aca07225f0528761352f1767de44debe2bf5210245f3d2d17b7ec23a70ef574505ef&amp;scene=21#wechat_redirect">经典动态规划：博弈问题</a></p>
</li>
<li>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247484469&amp;idx=1&amp;sn=e8d321c8ad62483874a997e9dd72da8f&amp;chksm=9bd7fa3daca0732b316aa0afa58e70357e1cb7ab1fe0855d06bc4a852abb1b434c01c7dd19d6&amp;scene=21#wechat_redirect">经典动态规划：四键键盘</a></p>
</li>
<li>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247484508&amp;idx=1&amp;sn=42cae6e7c5ccab1f156a83ea65b00b78&amp;chksm=9bd7fa54aca07342d12ae149dac3dfa76dc42bcdd55df2c71e78f92dedbbcbdb36dec56ac13b&amp;scene=21#wechat_redirect">团灭 LeetCode 股票买卖问题</a></p>
</li>
<li>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247484800&amp;idx=1&amp;sn=1016975b9e8df0b8f6df996a5fded0af&amp;chksm=9bd7fb88aca0729eb2d450cca8111abd8f861236b04125ce556171cb520e298ddec4d90823b3&amp;scene=21#wechat_redirect">团灭 LeetCode 打家劫舍问题</a></p>
</li>
<li>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247484731&amp;idx=2&amp;sn=d9d6b24c7f94d5e43e08666e82251984&amp;chksm=9bd7fb33aca0722548580dd27eb49880dc126ef87aeefedc33aa0f754f54691af6b09b41f45f&amp;scene=21#wechat_redirect">有限状态机之KMP字符匹配算法</a></p>
</li>
<li>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247486872&amp;idx=1&amp;sn=45b0cf438d3fb140ad6d06e660a7fa4d&amp;chksm=9bd7f390aca07a86c37e440bb9d5fb936be0a1283c781cc2ad867f6e890b2e1ff26545a36158&amp;scene=21#wechat_redirect">构造回文的最小插入次数</a></p>
</li>
<li></li>
</ul>
<p>一般的优化流程：<strong>暴⼒的递归解法 -&gt; 带备忘录的 递归解法 -&gt; 迭代的动态规划解法。</strong><br>
思考流程：<strong>找到状态和选择 -&gt; 明确 dp 数组/函数 的定义 -&gt; 寻找状态之间的关系。</strong></p>
<p><strong>动态规划问题的一般形式就是求最值</strong>。动态规划其实是运筹学的一种最优化方法，只不过在计算机问题上应用比较多，比如说让你求<strong>最长</strong>递增子序列呀，<strong>最小</strong>编辑距离呀等等。<br>
核心是<strong>求解动态规划的核心问题是穷举</strong>。因为要求最值，肯定要把所有可行的答案穷举出来，然后在其中找最值呗。</p>
<p>首先，动态规划的穷举有点特别，因为这类问题<strong>存在「重叠子问题」</strong>，如果暴力穷举的话效率会极其低下，所以需要「备忘录」或者「DP table」来优化穷举过程，避免不必要的计算。</p>
<p>而且，动态规划问题一定会<strong>具备「最优子结构」</strong>，才能通过子问题的最值得到原问题的最值。</p>
<p>另外，虽然动态规划的核心思想就是穷举求最值，但是问题可以千变万化，穷举所有可行解其实并不是一件容易的事，只有列出<strong>正确的「状态转移方程」</strong>，才能正确地穷举。</p>

<table>
<thead>
<tr>
<th>No.</th>
<th>题目</th>
</tr>
</thead>
<tbody>
<tr>
<td>322</td>
<td>零钱兑换</td>
</tr>
</tbody>
</table><ol start="322">
<li>零钱兑换</li>
</ol>
<h4 id="零钱兑换"><a href="https://leetcode-cn.com/problems/coin-change/">322. 零钱兑换</a></h4>
<p>自上向下：</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">def</span> <span class="token function">coinChange</span><span class="token punctuation">(</span>coins<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> amount<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">dp</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># base case</span>
        <span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token number">0</span>
        <span class="token keyword">if</span> n <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
        <span class="token comment"># 求最小值，所以初始化为正无穷</span>
        res <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'INF'</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> coin <span class="token keyword">in</span> coins<span class="token punctuation">:</span>
            subproblem <span class="token operator">=</span> dp<span class="token punctuation">(</span>n <span class="token operator">-</span> coin<span class="token punctuation">)</span>
            <span class="token comment"># 子问题无解，跳过</span>
            <span class="token keyword">if</span> subproblem <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token keyword">continue</span>
            res <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token operator">+</span> subproblem<span class="token punctuation">)</span>  <span class="token operator">//</span> res 是储存上一个循环的结果

        <span class="token keyword">return</span> res <span class="token keyword">if</span> res <span class="token operator">!=</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'INF'</span><span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token operator">-</span><span class="token number">1</span>

    <span class="token keyword">return</span> dp<span class="token punctuation">(</span>amount<span class="token punctuation">)</span>
</code></pre>
<p>带备忘录</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token operator">//</span>查备忘录放在前，记录结果放在后
<span class="token keyword">def</span> <span class="token function">coinChange</span><span class="token punctuation">(</span>coins<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> amount<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 备忘录</span>
    memo <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">dp</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 查备忘录，避免重复计算</span>
        <span class="token keyword">if</span> n <span class="token keyword">in</span> memo<span class="token punctuation">:</span> <span class="token keyword">return</span> memo<span class="token punctuation">[</span>n<span class="token punctuation">]</span>

        <span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token number">0</span>
        <span class="token keyword">if</span> n <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
        res <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'INF'</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> coin <span class="token keyword">in</span> coins<span class="token punctuation">:</span>
            subproblem <span class="token operator">=</span> dp<span class="token punctuation">(</span>n <span class="token operator">-</span> coin<span class="token punctuation">)</span>
            <span class="token keyword">if</span> subproblem <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token keyword">continue</span>
            res <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token operator">+</span> subproblem<span class="token punctuation">)</span>

        <span class="token comment"># 记入备忘录</span>
        memo<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> res <span class="token keyword">if</span> res <span class="token operator">!=</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'INF'</span><span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token operator">-</span><span class="token number">1</span>
        <span class="token keyword">return</span> memo<span class="token punctuation">[</span>n<span class="token punctuation">]</span>

    <span class="token keyword">return</span> dp<span class="token punctuation">(</span>amount<span class="token punctuation">)</span>
</code></pre>
<p>自底向上：（我更习惯这个）</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token builtin">int</span> coinChange<span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token builtin">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> coins<span class="token punctuation">,</span> <span class="token builtin">int</span> amount<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">//</span> 数组大小为 amount <span class="token operator">+</span> <span class="token number">1</span>，初始值也为 amount <span class="token operator">+</span> <span class="token number">1</span>
    vector<span class="token operator">&lt;</span><span class="token builtin">int</span><span class="token operator">&gt;</span> dp<span class="token punctuation">(</span>amount <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> amount <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">//</span> base case
    dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token builtin">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> dp<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">+</span><span class="token operator">+</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token operator">//</span> 内层 <span class="token keyword">for</span> 在求所有子问题 <span class="token operator">+</span> <span class="token number">1</span> 的最小值
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token builtin">int</span> coin <span class="token punctuation">:</span> coins<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token operator">//</span> 子问题无解，跳过
            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> coin <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token operator">+</span> dp<span class="token punctuation">[</span>i <span class="token operator">-</span> coin<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>dp<span class="token punctuation">[</span>amount<span class="token punctuation">]</span> <span class="token operator">==</span> amount <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> ? <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">:</span> dp<span class="token punctuation">[</span>amount<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>压缩dp table 的储存空间</p>

